<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./css/style_html.css">
  <title>HTML/DNS</title>
</head>

<body>
  <div id="header">
    <header>
      <h1>DNS</h1>
    </header>
  </div>
  <div id="grid">
    <div id="navigation">
      <nav>
        <ol>
          <h2><a href="index.html">HTML</a></h2>
          <li><a href="html1.html">웹 그 자체의 이해 </a></li>
          <li><a href="html2.html">홈서버</a></li>
          <li><a href="html3.html">DNS</a></li>
          <li><a href="html4.html">HTTP의 개념</a></li>
          <li><a href="html5.html">HTML 기본 문법과 기본 태그</a></li>
          <li><a href="html6.html">표 만들기(table)</a></li>
          <li><a href="html7.html">입력양식(Form)</a></li>
        </ol>
      </nav>
    </div>
    <div id="section">
      <section>
        <article class="">
          <h2>IP주소와 hosts</h2>
          <p>
            두 대의 컴퓨터가 통신하기 위해 반드시 필요한것 -> IP주소
          </p>
          <p>
            <dt>Host:</dt>
            <dd>네트워크에 연결되어 있는 장치들</dd>
          </p>
          <p>
            모든 운영체제에는 hosts라는 파일이 있다. -> 파일에 example.com의 IP주소는 (서버 주소) 이다. 라고 입력하면 -> example.com 이라고 접속했을 때 컴퓨터는 hosts파일을 읽어서 IP주소(서버주소)로 접속하게 됨.
          </p>
          <h3>운영체제별 hosts 위치</h3>
          <p>
            <img id="img" src="./img/html3_1.png" alt="운영체제별 hosts 위치" width="60%">
          </p>
        </article>
        <article class="">
          <h2>도메인 이름과 보안</h2>
          <p>
            악의적인 의도를 가진 해커가 Hosts 파일을 변조하면 악성파일에 노출될 수 있음.
          </p>
          <p>
            만약 금융사이트의 호스트 파일을 가져와서 기존 사이트와 똑같은 화면을 만들어 놓는다면? 나의 금융정보를 입력했을 때 그 정보를 그대로 넘겨주는 것.
          </p>
          <ul>
            <li>Fishing(피싱) 에 매우 취약함.
              <ul>
                <li>이를 보완하기위해 https(secure) 를 통해 보안을 강화할 수 있음.</li>
                <li>따라서 중요한 사이트에 접속할 때는 https 를 통해서 접속하는 것을 추천.</li>
              </ul>
            </li>
          </ul>
        </article>
        <article class="">
          <h2>DNS의 태동</h2>
          <ul>
            <li>
              <dt>Before DNS</dt>
              <dd>
                호스트라는 파일을 통해서 IP주소를 개인적으로 이용할 수 있었음.
                IP주소의 주인 컴퓨터를 가진 사람은 내 서버를 모든 사람들이 example.com을 검색해서 이용할 수 있으면 어떨까? 고민함. -> example.com이라는 주소는 유지하면서 IP주소는 바뀌어도 되는 유연함을 가질 수 있음. -> 이것을 구현하기 위해서 중간에 Stanford Research Institute 라는 단체가 전세계에 있는 호스트 파일을 관리했음.
              </dd>
              <ul>
                <li>
                  <dd>
                    SRI(Stanford Research Institute)는 세계최초로 UCLA(캘리포니아 대학)과 인터넷 통신을 한 단체
                  </dd>
                </li>
              </ul>
              <dd>
                컴퓨터 주인은 Stanford Research Institute 에게 연락해서 example.com 주소를 사용할 수있도록 해달라고 함. -> 전세계에 있는 사용자들은 SRI에 있는 호스트파일을 본인 컴퓨터에 다운로드를 받아서 이용함. -> 결국 IP가 아닌 이름만으로 이용할 수 있게됨.
              </dd>
            </li>
            <li>
              But 문제가 있었음 하나의 호스트 파일에 모든 사용자의 주소가 담기기 때문에 한계가 있었음.
            </li>
            <li>
              존 포스텔, 폴 모카페트리스는 새로운 대안을 만들어냄 -> 도메인 네임 시스템(DNS)
            </li>
          </ul>
        </article>
        <article class="">
          <h2>DNS의 원리</h2>
          <p>
          <ul>
            <li>
              컴퓨터 두대가 있음. 내 컴퓨터로 다른 컴퓨터(93.184.216.34)로 접속하려함 -> 다른 컴퓨터는 다른 사람이 내 컴퓨터에 접속할 때 IP주소가 아니라 이름으로 접속했으면 좋겠다 생각함 -> DNS Server 에게 자신의 IP는 93.184.216.34 인데 example.com 이라는 이름을 갖고 싶다고 요청을 함 -> DNS Server는 그 요청의 정보를 기록 -> 이제 내 컴퓨터로 example.com
              으로 접속하려 하면 -> 랜선이나 와이파이로 접속을 하는 순간 내 컴퓨터에 DNS Server의 IP주소가 자동으로 세팅이 된다(DHCP) -> 이제 내 컴퓨터는 약속된 대로 호스트 파일을 찾아본다. -> DNS Server에 접속해서 example.com 의 IP주소를 물어봄 -> DNS Server는 자신이 기억하는 IP주소를 응답해줌 -> 그럼 이제 내 컴퓨터는 example.com의 IP주소를 받고 IP를
              이용해서 통신을 할 수 있게됨 -> 이 과정이 자동으로 진행이됨
            </li>
            <li>
              자동화 시스템으로 훨씬 빠르게, 편하게, 더 적은 행정절차로 진행할 수 있게됨.
            </li>
            <li>
              또한, 이전에는 호스트 파일에다가 호스트의 이름을 저장했는데 이제는 서버를 통해서 자동(DHCP 덕분^^)으로 이름을 업데이트할 수 있음.
            </li>
          </ul>
          </p>
          <p>
            클라이언트 컴퓨터(소비자) ------ 서버 컴퓨터(생산자)
          </p>
          <p>
            소비자로서 알아야 할 지식은 여기까지임.
          </p>
        </article>
        <article class="">
          <h2>Public DNS의 사용</h2>
          <p>
          <ul>
            <li>
              위의 원리에서 언급한 DHCP의 과정을 해주는 것이 ISP(ex 통신사들)
            </li>
            <li>
              만약 ISP에서 제공한 서버를 사용하고싶지 않다면??(성능, 프라이버시 등)
              <ul>
                <li>
                  검색엔진에 [public dns server] 검색 -> 목록들을 보여줌(Google etc..) -> 1.1.1.1 이라는 dns server 추천(신생 DNS서버/속도향상/보안강화)
                </li>
              </ul>
            </li>
            <li>
              <dt>DNS 바꾸는 법(Mac OS)</dt>
              <dd>
                시스템 환경설정 -> 네트워크 -> 연결된 인터넷 탭에서 고급... -> DNS탭 -> 왼쪽 하단에 +버튼 클릭 -> 1.1.1.1 입력 -> 하나 더 추가해서 1.0.0.1 입력(보험용) -> 확인 -> 적용
              </dd>

            </li>
          </ul>
          </p>
        </article>
        <article class="">
          <h2>도메인 이름의 구조</h2>
          <img id="img" src="./img/html3_2.png" alt="도메인 이름의 구조" width="60%">

          <h3>DNS Server의 역할</h3>
          <ol>
            <li>서버로 사용할 컴퓨터의 IP와 이름을 저장</li>
            <li>사용자의 요청에 대답하는것</li>
          </ol>
          <p>
            DNS 서버는 전세계에 무수히 많다.
          </p>
          <p>
          <ul>
            <li>위 사진의 각각의 명칭들을 담당하는 독자적인 서버 컴퓨터들이 존재한다</li>
            <li>root 도메인을 담당하는 DNS Server는 하위서버인 Top-level을 담당하는 서버들의 목록을 알고있어야 한다. 이토록 옆으로 가는 상위 서버는 하위 서버들을 알고 있어야한다.(하위는 상위 도메인의 서버 목록을 알지 못한다.)</li>
            <li>만약 내가 blog.example.com 의 IP주소를 알고싶다면 이 IP주소는 sub도메인의 DNS Server가 알고있다.</li>
            <li>그 과정은 root 도메인 서버에게 물어봄(모든 컴퓨터들은 최소한 root 도메인 서버의 IP주소는 알고있다.) -> 모르겠는데 Top-level이 전담하고 있는 IP주소를 알려줄 수 있어 -> Top-level 도메인 서버는 잘모르겠는데? Second-level이 전담하고 있는 IP주소를 알려줄게 -> 최종적으로 sub도메인을 전담하고 있는 도메인 서버(DNS Server)에 접속을 할 수 있음 -> 원하는
              IP주소를 알 수 있음</li>
          </ul>
          </p>
        </article>
        <article class="">
          <h2>도메인 이름 등록 과정과 원리</h2>
          <img id="img" src="./img/html3_3.png" alt="도메인 이름 등록 과정과 원리" width="60%">
          <p>
          <ul>
            <li>
              나는 내 컴퓨터에다가 example.com 이라는 이름을 부여하고 싶음 -> DNS의 정점에 있는 ICANN이 전세계의 IP주소를 관리하며 root의 관리자이다.(root 도메인의 주소 a.root-servers.net / a~m 13개의 주소들을 가지고 있음 / 또한 이 각각의 컴퓨터들은 또 흩어져서 결국 수백대의 컴퓨터가 된다.) -> 이 밑에는 Registry라는 기관이 있음(top-level 도메인을 관리함
              .com / a.gtld-servers.net) -> 이 밑에는 Registrar 라는 등록대행자가 있다(등록자의 등록작업을 대행해 주는 기관이다.)
            </li>
            <li>
              Example.com 이라는 이름을 등록할 때 -> 등록대행자는 등록소에 example.com을 등록(등록자는 등록대행자에게 수수료를 지불) -> 이러면 내가 계약한 기간동안에는 다른 사람은 이 이름을 사용할 수 없음
            </li>
            <li>
              root 도메인 서버는 전세계에 있는 top-level 서버의 주소를 기억(com NS a.gtld-servers.net)
            </li>
            <li>
              개인이 자신의 도메인을 운영하기 위해서는 등록소에 top-level 도메인에 개인의 IP주소를 등록할 수는 없고 스스로 서버한대를 마련해서 도메인 서버를 설치(a.iana-servers.net) 여기에 도메인을 구축
            </li>
            <li>
              등록자(example.com 의 도메인 네임은 a.iana-servers.net 이다 라는것을 등록대행자에게 전달) -> 등록대행자(Registry에 example.com의 네임서버는 a.iana-servers.net 이라고 알려줌) -> 등록소(자신이 관리하고 있는 top-level 도메인에 기록)
            </li>
            <li>
              Root name server 와 top-level domain 은 NS(name server)를 기억(알고있다)
            </li>
            <li>
              나의 authoritative name server는 최종적인 IP주소를 기억(example.com A[address) 93.184.216.34)
            </li>
            <li>
              NS, A 이것들을 record type이라고 함.
            </li>
            <li>
              최종적으로 example.com 의 실제 서버가 93.184.216.34 라는 IP를 갖고 있는 컴퓨터라는 것을 알게 됨.
            </li>
            <li>
              인터넷을 사용하기위해 랜선이나 와이파이에 연결을 하는 순간에 컴퓨터에는 도메인 정보를 조회할 순간에 사용할 DNS의 서버가 자동으로 세팅이 됨
            </li>
            <li>
              이제 우리의 컴퓨터는 도메인서버를 이용해서 자신이 필요한 도메인의 IP를 알아낼 수 있음
            </li>
            <li>
              전세계 모든 도메인 서버는 반드시 root name server 의 주소를 알고있다.(이걸 모르면 통신이 시작이 안됨)
            </li>
            <li>
              고로 나의 컴퓨터는 root name server의 존재를 알고있음
            </li>
            <li>
              주소창에 example.com 이라고 주소창에 치면 -> DNS Server에게 example.com 이 누구냐고 물어봄 -> DNS Server는 root name server에게 물어봄 -> root name server는 .com이 누가 관리하고 있는지는 알고있음 -> a.gtld-servers.net에게 물어봐 -> DNS Server는 a.gtld-servers.net에게 다시 물어봄 -> example.com
              의 NS를 알고있는 a.iana-servers.net 에게 물어봐 -> a.iana-servers.net는 example.com A 93.183.216.34 라는 정보를 가지고 있음 -> IP주소를 결국 DNS Server에 전달 -> 나의 컴퓨터에 전달 -> 최종적으로 IP주소를 통해 등록자에게 접속할 수 있게 됨
              <ul>
                <li>
                  매번 물어봐야하기 때문에 매우 비효율적..
                  <ul>
                    <li>
                      DNS 에는 구석구석에 cache(캐쉬) 라는 것이 있음 -> 다음에 또 요청할 때는 캐쉬에 저장된 기억을 통해 바로 알려줄 수 있음(성능향상, 과부하 방지)
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
          </p>
        </article>
        <article class="">
          <h2>Nslookup</h2>
          <img id="img" src="./img/html3_4.png" alt="nslookup" width="60%">
          <p>
          <ul>
            <li>
              DNS를 이용해서 정보를 수집하는 방법
            </li>
            <li>
              대표적인 도구가 nslookup(dig.. 호환성 문제가 있음)
            </li>
            <li>
              터미널을 키고 -> <css id="highlight">nslookup example.com</css> (nslookup -type=a example.com 과 같다)치고 엔터 -> address 를 주목 -> 첫줄에 있는 Server: @@@@는 내 컴퓨터에 연결되어 있는 DNS Server의 IP -> Non-authoritative answer: (캐쉬가 대답한 경우 Non 이 붙음)
            </li>
            <li>
              직접 물어보는 방법 -> example.com 의 네임서버가 누구인지 알아야함 -> <css id="highlight">nslookup -type=ns example.com</css> (-type=ns : ns에 대한 정보를 가져옴)
            </li>
            <li>
              캐쉬를 통하지 말고 직접 물어보는 방법 -> <css id="highlight">nslookup example.com a.iana-servers.net</css>(위에서 알아낸 DNS Server)
            </li>
          </ul>
          </p>
        </article>
        <article class="">
          <h2>나의 도메인 이름 장만하기</h2>
          <p>
            등록대행자 추천(<a href="https://www.freenom.com/en/index.html?lang=en" target="_blank">freenom.com</a>-1년동안 무료)
          </p>
          <dl>
            <dt>
              사용법:
            </dt>
            <dd>
              <a href="https://www.youtube.com/watch?v=JpQP_aY6zqc&feature=youtu.be&list=PLuHgQVnccGMCI75J-rC8yZSVGZq3gYsFp" target="_blank">WEB2-Domain Name System-11.나의 도메인 이름 장만하기</a>
            </dd>
          </dl>
        </article>
        <article class="">
          <h2> DNS record & CNAME</h2>
          <p>
            Dns4u.ga A 52.231.13.22 : DNS record
          </p>
          <dl>
            <dt>DNS record의 type:</dt>
            <dd><a href="https://en.wikipedia.org/wiki/List_of_DNS_record_types" target="_blank">https://en.wikipedia.org/wiki/List_of_DNS_record_types</a></dd>
            <dt>CNAME:</dt>
            <dd>
              <img id="img" src="./img/html3_5.png" alt="CNAME" width="60%">
            </dd>
            <dd>
              A는 도메인을 IP주소로 가리키는 것
            </dd>
            <dd>
              CNAME은 도메인을 다른 도메인으로 가리키는 것
            </dd>
            <dd>
              CNAME은 도메인에 대한 일종의 별명을 등록하는 것.( 결국에는 A의 192.0.1.1로 연결되는 것)
            </dd>
            <dd>
              CNAME은 언제 쓸까?:<br>
              IP주소가 계속 바뀜, 사이트를 가리키는 또 다른 주소가 여러가지가 있을 때
            </dd>
          </dl>
        </article>
        <article class="">
          <h2>Github pages에 도메인 연결하기</h2>
          <p>
            홈페이지를 운영하는데 내 웹페이지가 아니라서 (https://web-n.github.io/web1_html_internet/) 이런 긴 이름을 써야한다. -> 사용자는 저 주소를 이용해서 접속을 시도한다. -> 서비스가 너무 잘되버리면? -> 서버를 이사를 하게 됨.(https://opentutorials.org/course/1) -> 여기서 문제는 기존의 사용자들이 알고있던 주소는 위의 옛 주소... -> 사용자들은
            404 Not found라는 오류화면을 보게될 것.(종속성)
          </p>
          <p>
            만약 이 서비스가 도메인을 붙일 수 있도록 지원을한다?(dns4u.ga) -> 서비스를 이동하게 되면 이전을 할 때 도메인을 새로운 주소로 옮기고 기존의 주소를 파괴한다. -> 사람들은 여전히 dns4u.ga라는 주소로 접속을 할것이고 그 주소는 새로운 서버를 가리키게 될것(이를 위해 도메인이라는 것이 존재하는 것)
          </p>
          <h3> github에 도메인을 붙여보자</h3>
          <p>

            만약 내가 가지고 있는 홈페이지의 주소가 <a href="https://web-n.github.io/web1_html_internet/" target="_blank">https://web-n.github.io/web1_html_internet/</a> 이라고 하자 -> 이때 사용자들이 dns4u.ga라는 도메인을 통해서 내 사이트를 볼 수 있게 하려면 -> dns4u.ga 라는 도메인 네임을 구입한다 -> DNS
            Server에 dns4u.ga의 IP는 (github에서 우리 서비스를 이용하려면 192.30.252.153 을 이용하세요 라고 알려줌) 192.30.252.153 이라고 A record로 추가를 한다. -> github에게 앞으로 dns4u.ga 라는 주소로 접속이 들어오면 그 접속은 기존에 <a href="https://web-n.github.io/web1"
              target="_blank">https://web-n.github.io/web1</a> 로 들어왔을 때 서비스하던 컨텐츠를 보내달라고 알려줘야함
          </p>
          <p>
            사용자들이 dns4u.ga 로 접속을 하면 자신의 컴퓨터에 연결되어있는 DNS Server에게 물어봄 -> dns4u.ga의 IP가 뭐냐? -> 알려줌 -> 알려준 IP로 접속을 하게됨 -> IP로 접속하면서 github가 운영하는 웹 서버에 dns4u.ga라는 도메인으로 접속을 할것임 -> 웹서버는 접속이 dns4u.ga라는 도메인으로 들어왔다(도메인에게 요청을 하고있다는 사실을 알수 있음) -> github는
            dns4u.ga <a href="https://web-n.github.io/web1_html_internet/" target="_blank">https://web-n.github.io/web1_html_internet/</a> 이 규칙에 따라서 사용자에게 응답해줌 -> 사용자는 결국 dns4u.ga 라는 도메인을 통해서 컨텐츠를 가져갈수 있게된다.
          </p>
          <h3>우리가 해야할 것</h3>
          <ol>
            <li>
              github에게 dns4u.ga라는 도메인을 알려주는 것.
            </li>
            <li>
              DNS Server에게 그 도메인은 어떤 컴퓨터를 가리켜야하는가 를 알려줘야 함.
            </li>
          </ol>
          <img id="img" src="./img/html3_6.png" alt="Github 통신" width="60%">
          <h3>하는법 영상참고:</h3>
          <ul>
            <li><a href="https://www.youtube.com/watch?v=SUG8v3HE0Mg&feature=youtu.be&list=PLuHgQVnccGMCI75J-rC8yZSVGZq3gYsFp&t=454" target="_blank">WEB2-Domain Name System-13.Github pages에 도메인 연결하기</a></li>
          </ul>
        </article>
      </section>
    </div>
  </div>
</body>

</html>
